import{r as m,c as C,o as N,a as w,b as d,d as r,e,f,F as V,g as D,t as u,h as E,w as b,v}from"./index-C1xBeEH3.js";const $={class:"container"},B={class:"d-flex justify-content-between mb-2"},U=e("h2",{class:"lh-sm mb-0"},"List of Drinks",-1),T={class:"table align-middle"},I=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"品項"),e("th",{scope:"col"},"描述"),e("th",{scope:"col"},"價格"),e("th",{scope:"col"},"庫存")])],-1),M={key:0},Q=e("td",{colspan:"4",class:"text-center"},[e("div",{class:"my-5"},"無貨啦! 快D新增")],-1),A=[Q],F={class:""},L={class:"btn-group me-2"},j=["onClick","disabled"],S={type:"button",class:"border-start-0 border-end-0",disabled:""},z={class:"d-block text-dark",style:{width:"50px"}},G=["onClick","disabled"],H={class:"btn-group",role:"group","aria-label":"Basic example"},J=["onClick"],K=["onClick"],O={colspan:"4"},P=e("button",{type:"button",class:"btn btn-primary"},"Button",-1),R={key:0,class:"my-3"},W={class:"text-secondary fw-bold"},X={class:"p-3 rounded-4 border"},Y={class:"mb-3"},Z=e("label",{class:"form-label",for:"tmpName"},"品項",-1),k={class:"mb-3"},ee=e("label",{class:"form-label",for:"tmpName"},"描述",-1),te={class:"mb-3"},se=e("label",{class:"form-label",for:"tmpName"},"價格",-1),le={class:"mb-3"},oe=e("label",{class:"form-label",for:"tmpName"},"庫存",-1),ce={__name:"Ex1View",setup(ne){const n=m([]),a=m(!1),c=m(!1),s=m({}),_=(o,l)=>n.value.findIndex(i=>{i.id===o&&(i.qty=l)}),y=o=>{console.log(o),o.id?(a.value=!0,s.value={...o}):(c.value=!0,s.value={})},h=()=>{const o=n.value.findIndex(l=>s.value.id===l.id);if(s.value.qty>99){p("不能超過99");return}if(s.value.qty<0){p("不能少於0");return}if(s.value.price<1){p("價格最少要$1");return}if(s.value.price>1e3){p("提供合理價錢");return}a.value&&!c.value&&(n.value[o]=s.value),!a.value&&c.value&&n.value.push({id:new Date().getTime(),name:s.value.name,descrip:s.value.descrip,price:s.value.price,qty:s.value.qty}),s.value={},a.value=!1,c.value=!1},q=()=>{a.value=!1,c.value=!1},x=o=>{const l=n.value.findIndex(t=>t.id===o);n.value.splice(l,1)},p=o=>alert(`${o}`),g=C(()=>n.value.reduce((o,l)=>Number(o)+Number(l.price),0));return N(()=>{setTimeout(()=>{n.value=[{id:1,name:"珍珠奶茶",descrip:"香濃奶茶搭配QQ珍珠",price:50,qty:98},{id:2,name:"冬瓜檸檬",descrip:"清新冬瓜配上新鮮檸檬",price:45,qty:18},{id:3,name:"翡翠檸檬",descrip:"綠茶與檸檬的完美結合",price:55,qty:34},{id:4,name:"四季春茶",descrip:"香醇四季春茶，回甘無比",price:45,qty:10},{id:5,name:"阿薩姆奶茶",descrip:"檸檬與冰茶的清新組合",price:45,qty:20},{id:6,name:"檸檬冰茶",descrip:"檸檬與冰茶的清新組合",price:45,qty:5},{id:7,name:"芒果綠茶",descrip:"芒果與綠茶的獨特風味",price:55,qty:18},{id:8,name:"抹茶拿鐵",descrip:"抹茶與鮮奶的絕配",price:60,qty:20}]},1e3)}),w(()=>{}),(o,l)=>(d(),r("div",$,[e("div",B,[U,e("button",{type:"button",class:"btn btn-primary d-inline-block",onClick:l[0]||(l[0]=t=>y({}))},"新增")]),e("table",T,[I,e("tbody",null,[n.value.length===0?(d(),r("tr",M,A)):f("",!0),(d(!0),r(V,null,D(n.value,t=>(d(),r("tr",{key:t.id},[e("td",F,u(t==null?void 0:t.name),1),e("td",null,u(t==null?void 0:t.descrip),1),e("td",null,u(t==null?void 0:t.price),1),e("td",null,[e("div",L,[e("button",{type:"button",class:"btn btn-primary",onClick:i=>_(t.id,t.qty-1),disabled:t.qty<=0},"-",8,j),e("button",S,[e("span",z,u(t.qty),1)]),e("button",{type:"button",class:"btn btn-primary",onClick:i=>_(t.id,t.qty+1),disabled:t.qty>=99},"+",8,G)]),e("div",H,[e("button",{type:"button",class:"btn btn-warning edit",onClick:i=>y(t)},"修改",8,J),e("button",{type:"button",class:"btn btn-danger del",onClick:i=>x(t.id)},"刪除",8,K)])])]))),128))]),e("tfoot",null,[e("tr",null,[e("td",O,[e("h5",null,"品項總類: "+u(g.value),1),P])])])]),a.value||c.value?(d(),r("div",R,[e("h3",W,[E("Edit Area - "),e("span",null,u(a.value?"Edit":"Add"),1)]),e("form",X,[e("div",Y,[Z,b(e("input",{class:"form-control",type:"text","onUpdate:modelValue":l[1]||(l[1]=t=>s.value.name=t)},null,512),[[v,s.value.name]])]),e("div",k,[ee,b(e("input",{class:"form-control",type:"text","onUpdate:modelValue":l[2]||(l[2]=t=>s.value.descrip=t)},null,512),[[v,s.value.descrip]])]),e("div",te,[se,b(e("input",{class:"form-control",type:"text","onUpdate:modelValue":l[3]||(l[3]=t=>s.value.price=t)},null,512),[[v,s.value.price]])]),e("div",le,[oe,b(e("input",{class:"form-control",type:"text","onUpdate:modelValue":l[4]||(l[4]=t=>s.value.qty=t)},null,512),[[v,s.value.qty]])]),e("button",{class:"btn btn-primary me-2",type:"button",onClick:h},"確認"),e("button",{class:"btn btn-danger",type:"button",onClick:q},"取消")])])):f("",!0)]))}};export{ce as default};
